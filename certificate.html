<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Certificate of Excellence</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/tailwindcss/3.3.3/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Noto+Serif+SC:wght@700&family=Special+Elite&display=swap" rel="stylesheet">
    <style>
        body { background: #1a0b00; color: #3e2723; font-family: 'Noto Serif SC', serif; overflow: hidden; }
        .parchment {
            background: url('https://img.freepik.com/free-photo/old-paper-texture_1194-6729.jpg');
            background-size: cover; box-shadow: 0 0 50px rgba(0,0,0,0.8) inset;
            position: fixed; inset: 20px; border: 2px solid #b8860b;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; padding: 20px;
        }
        .seal {
            width: 120px; height: 120px; border: 4px solid #8b0000; border-radius: 50%;
            color: #8b0000; font-weight: bold; display: flex; align-items: center; justify-content: center;
            transform: rotate(-15deg) scale(2); opacity: 0; transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-family: 'Special Elite', cursive; font-size: 1.2rem;
            border-style: double; box-shadow: 0 0 0 4px #8b0000 inset;
        }
        .seal.stamped { opacity: 0.8; transform: rotate(-15deg) scale(1); }
        .next-btn {
            margin-top: 30px; padding: 12px 30px; background: #8b0000; color: #ffd700;
            border: none; border-radius: 5px; font-family: 'Cinzel', serif; font-size: 1.1rem;
            opacity: 0; pointer-events: none; transition: opacity 1s;
        }
        /* æ–°å¢ï¼šæœ—è¯»æŒ‰é’® */
        .audio-btn {
            position: absolute; top: 20px; right: 20px;
            background: rgba(139, 0, 0, 0.1); border: 1px solid #8b0000; color: #8b0000;
            padding: 8px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9rem;
            cursor: pointer; z-index: 50; display: flex; align-items: center; gap: 5px;
        }
        .audio-btn:active { background: rgba(139, 0, 0, 0.3); }
    </style>
</head>
<body>
    <div class="parchment" id="paper">
        <button class="audio-btn" onclick="playAudio()">ğŸ”Š æœ—è¯»è¯ä¹¦</button>

        <h1 class="text-3xl mb-2 font-bold text-yellow-900" style="font-family: 'Cinzel'">å¥½å­©å­è¯ä¹¦</h1>
        <div class="w-full h-1 bg-yellow-900 mb-6 opacity-50"></div>
        
        <p class="text-lg mb-4">å…¹è¯æ˜</p>
        <h2 class="text-4xl mb-6 font-bold text-red-900" id="child-name"></h2>
        <p class="text-md leading-relaxed mb-8 px-4">
            åœ¨2025å¹´åº¦è¡¨ç°ä¼˜å¼‚<br>
            è¯šå®å‹‡æ•¢ï¼Œå……æ»¡çˆ±å¿ƒ<br>
            ç»åŒ—æç²¾çµå§”å‘˜ä¼šå®¡æ ¸<br>
            ç‰¹é¢å‘æ­¤è¯
        </p>

        <div class="seal" id="seal">OFFICIAL<br>NORTH POLE<br>APPROVED</div>
        
        <button class="next-btn" id="btn-next" onclick="goNext()">æ¥å—ä»»åŠ¡ (Accept Mission)</button>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const name = params.get('name') || 'å®è´';
        document.getElementById('child-name').innerText = name;

        const speechText = `ç¥è´ºä½ ï¼Œ${name}ã€‚è¿™æ˜¯ä½ çš„å¥½å­©å­è¯ä¹¦ã€‚åŒ—æå§”å‘˜ä¼šå·²ç»æ‰¹å‡†äº†ä½ çš„ç¤¼ç‰©ç”³è¯·ã€‚ç°åœ¨ï¼Œè¯·ç‚¹å‡»æŒ‰é’®ï¼Œæ¥å—ä½ çš„ç§˜å¯†ä»»åŠ¡ã€‚`;

        // æ ¸å¿ƒï¼šæ‰‹åŠ¨æ’­æ”¾
        function playAudio() {
            window.speechSynthesis.cancel();
            const u = new SpeechSynthesisUtterance(speechText);
            u.lang = 'zh-CN'; u.rate = 1.0;
            window.speechSynthesis.speak(u);
        }

        // ç›–ç« é€»è¾‘
        let stamped = false;
        document.body.addEventListener('click', (e) => {
            // å¦‚æœç‚¹çš„æ˜¯æœ—è¯»æŒ‰é’®ï¼Œä¸è§¦å‘ç›–ç« 
            if (e.target.closest('.audio-btn')) return;
            
            if (stamped) return;
            stamped = true;
            document.getElementById('seal').classList.add('stamped');
            
            // è‡ªåŠ¨å°æ’­æ”¾ä¸€æ¬¡ï¼Œå¦‚æœå¤±è´¥ç”¨æˆ·å¯ä»¥ç‚¹æŒ‰é’®
            playAudio();

            setTimeout(() => {
                const btn = document.getElementById('btn-next');
                btn.style.opacity = 1;
                btn.style.pointerEvents = 'auto';
            }, 1000);
        });

        window.goNext = function() {
            window.location.href = `mission.html${window.location.search}`;
        }
    </script>
</body>
</html>
