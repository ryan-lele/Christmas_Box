<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Certificate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { 
            background: #000; height: 100vh; display: flex; justify-content: center; align-items: center; margin: 0; 
            font-family: 'Noto Serif SC', serif; overflow: hidden;
        }
        
        /* --- ç¾Šçš®çº¸ç³»ç»Ÿ --- */
        .parchment {
            background-color: #f4e4bc;
            /* å™ªç‚¹çº¹ç†ï¼Œæ— éœ€å¤–éƒ¨å›¾ç‰‡ */
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.15'/%3E%3C/svg%3E");
            width: 90%; max-width: 400px; padding: 40px 25px;
            border-radius: 4px;
            /* è¾¹ç¼˜å‘å…‰ + æŠ•å½± */
            box-shadow: 
                inset 0 0 80px rgba(139, 69, 19, 0.3), /* å†…éƒ¨æ—§åŒ– */
                0 0 0 5px #8b0000, /* çº¢è¾¹ */
                0 0 0 8px #d4af37, /* é‡‘è¾¹ */
                0 20px 60px rgba(0,0,0,0.9); /* æ‚¬æµ®å½± */
            text-align: center; position: relative;
        }

        /* å¢¨æ°´æ•ˆæœ */
        .ink-text { color: #2c2c2c; mix-blend-mode: multiply; }

        .seal { 
            width: 90px; height: 90px; background: #8b0000; color: #d4af37; border-radius: 50%; 
            display: flex; justify-content: center; align-items: center; font-size: 3rem; 
            border: 3px solid #d4af37; margin: -60px auto 20px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            position: relative; z-index: 10;
        }
        
        .title { 
            color: #555; font-size: 1.1rem; letter-spacing: 4px; text-transform: uppercase; 
            border-bottom: 1px solid #8b0000; display: inline-block; padding-bottom: 5px; margin-bottom: 10px; 
        }
        
        .name { 
            font-family: 'Ma Shan Zheng', cursive; font-size: 3.8rem; color: #8b0000; 
            margin: 10px 0 20px; transform: rotate(-3deg); mix-blend-mode: multiply;
        }
        
        .content { 
            font-size: 1.1rem; line-height: 1.8; color: #1a0505; min-height: 120px; 
            text-align: justify; font-weight: 600; 
        }
        
        .next-btn {
            margin-top: 30px;
            background: #1a0505; color: #d4af37; border: 1px solid #d4af37;
            padding: 12px 30px; border-radius: 4px;
            font-size: 1.1rem; font-family: 'Noto Serif SC', serif;
            cursor: pointer; opacity: 0; transition: all 0.5s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .next-btn.show { opacity: 1; }

        /* å¯¼èˆª */
        .magic-dock { position: fixed; right: 20px; top: 50%; transform: translateY(-50%); display: flex; flex-direction: column; gap: 20px; z-index: 5000; }
        .dock-btn { width: 45px; height: 45px; border-radius: 50%; background: rgba(0,0,0,0.6); border: 1px solid #fbbf24; color: #fbbf24; display: flex; justify-content: center; align-items: center; text-decoration: none; font-size: 1.4rem; }
        .back-btn { position: fixed; top: 20px; left: 20px; color: #fff; text-decoration: none; display: flex; align-items: center; gap: 5px; opacity: 0.5; }
    </style>
</head>
<body>
    <a href="javascript:navTo('index.html')" class="back-btn"><i class="ph-bold ph-arrow-left"></i> ä¸»é¡µ</a>

    <div class="magic-dock">
        <a href="javascript:navTo('certificate.html')" class="dock-btn">ğŸ“œ</a>
        <a href="javascript:navTo('mission.html')" class="dock-btn">ğŸ’Œ</a>
        <a href="javascript:navTo('magic.html')" class="dock-btn">ğŸ„</a>
    </div>

    <div class="parchment">
        <div class="seal"><i class="ph-fill ph-check"></i></div>
        <div class="title ink-text">å®˜æ–¹è®¤è¯</div>
        <div class="name" id="childName"></div>
        <div class="content ink-text" id="typewriter"></div>
        
        <button class="next-btn" id="nextBtn" onclick="navTo('mission.html')">
            æ¥å—ç»å¯†ä»»åŠ¡
        </button>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const name = params.get('name') || 'å®å®';
        const lang = params.get('lang') || 'zh';
        document.getElementById('childName').innerText = name;

        window.navTo = function(page) {
            window.location.href = `${page}?name=${encodeURIComponent(name)}&lang=${lang}`;
        }

        const textCN = `ç»åŒ—æç²¾çµäº‹åŠ¡éƒ¨å®¡æ ¸ï¼šè™½ç„¶ä½ ä»Šå¹´å¶å°”ä¼šå‘ç‚¹å°è„¾æ°”ï¼Œæˆ–è€…ä¸çˆ±æ”¶æ‹¾ç©å…·ï¼Œä½†ä½ æ‹¥æœ‰ä¸€é¢—éå¸¸å–„è‰¯çš„å¿ƒã€‚åˆ¤å®šç»“æœï¼š2025å¹´åº¦è¶…çº§å¥½å­©å­ï¼`;
        const textEN = `North Pole Audit: Although slightly naughty at times, you have a heart of gold. Verdict: Super Good Child of 2025!`;
        
        const finalTxt = lang === 'zh' ? textCN : textEN;
        const container = document.getElementById('typewriter');
        
        // è¯­éŸ³
        setTimeout(() => {
            const u = new SpeechSynthesisUtterance(finalTxt);
            u.lang = lang === 'zh' ? 'zh-CN' : 'en-US';
            u.rate = 0.95; 
            window.speechSynthesis.speak(u);
        }, 800);

        // æ‰“å­—æœº
        let i = 0;
        function type() {
            if (i < finalTxt.length) {
                container.innerHTML += finalTxt.charAt(i);
                i++;
                setTimeout(type, 80);
            } else {
                document.getElementById('nextBtn').classList.add('show');
            }
        }
        setTimeout(type, 800);
        setTimeout(() => document.getElementById('nextBtn').classList.add('show'), 5000);
    </script>
</body>
</html>