<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commander's Terminal</title>
    <style>
        /* 全局设定 */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            background-color: #000;
            color: #0f0;
            font-family: 'Courier New', Courier, monospace;
            overflow: hidden; /* 防止滚动 */
        }

        /* 居中容器 */
        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
        }

        /* 1. 信号接入按钮 (初始显示) */
        #signal-btn {
            background: transparent;
            border: 2px solid #0f0;
            color: #0f0;
            padding: 15px 30px;
            font-size: 1.2rem;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
            box-shadow: 0 0 10px #0f0;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        #signal-btn:hover {
            background: #0f0;
            color: #000;
            box-shadow: 0 0 20px #0f0;
        }

        /* 2. 内容区域 (初始隐藏) */
        #content-area {
            display: none; /* 关键：初始不显示 */
            width: 80%;
            max-width: 600px;
        }

        /* 打字机文字样式 */
        #typewriter-text {
            font-size: 1.2rem;
            line-height: 1.6;
            text-shadow: 0 0 5px #0f0;
            min-height: 100px;
            text-align: left;
            margin-bottom: 30px;
        }

        /* 光标闪烁 */
        .cursor {
            display: inline-block;
            width: 10px;
            height: 1.2rem;
            background-color: #0f0;
            animation: blink 1s step-end infinite;
        }

        /* 导航菜单 (打字结束后显示) */
        #nav-menu {
            opacity: 0;
            transition: opacity 2s ease;
        }

        .nav-btn {
            display: block;
            margin: 10px auto;
            padding: 10px 20px;
            border: 1px solid #0f0;
            color: #0f0;
            text-decoration: none;
            width: 200px;
            transition: 0.3s;
        }
        .nav-btn:hover { background: rgba(0, 255, 0, 0.2); }

        /* 动画定义 */
        @keyframes blink { 50% { opacity: 0; } }
        @keyframes pulse { 0% { box-shadow: 0 0 5px #0f0; } 50% { box-shadow: 0 0 20px #0f0; } 100% { box-shadow: 0 0 5px #0f0; } }
    </style>
</head>
<body>

    <div class="container">
        <button id="signal-btn" onclick="initializeSystem()">[ 点击接入加密频段 ]</button>

        <div id="content-area">
            <div id="typewriter-text"><span id="text-target"></span><span class="cursor"></span></div>
            
            <div id="nav-menu">
                <a href="magic.html" class="nav-btn">>> 进入魔法空间 <<</a>
                <a href="mission.html" class="nav-btn">>> 查看绝密任务 <<</a>
            </div>
        </div>
    </div>

    <audio id="bgm" src="audio.mp3" preload="auto"></audio>

    <script>
        // 配置文案
        const message = "指挥官，欢迎回来。\n检测到您的生物信号...\n正在建立安全连接...\n所有系统准备就绪。";
        const speed = 100; // 打字速度 (毫秒)
        let i = 0;
        
        // 系统初始化函数
        function initializeSystem() {
            // 1. 隐藏按钮
            document.getElementById('signal-btn').style.display = 'none';
            // 2. 显示内容区
            document.getElementById('content-area').style.display = 'block';
            // 3. 播放音频 (浏览器策略允许用户交互后播放)
            const audio = document.getElementById('bgm');
            if(audio) {
                audio.volume = 0.5;
                audio.play().catch(e => console.log("Audio play failed:", e));
            }
            // 4. 开始打字
            typeWriter();
        }

        // 打字机逻辑
        function typeWriter() {
            if (i < message.length) {
                const char = message.charAt(i);
                // 处理换行符
                if (char === '\n') {
                    document.getElementById("text-target").innerHTML += '<br>';
                } else {
                    document.getElementById("text-target").innerHTML += char;
                }
                i++;
                setTimeout(typeWriter, speed);
            } else {
                // 打字结束，显示菜单
                document.getElementById('nav-menu').style.opacity = '1';
            }
        }
    </script>
</body>
</html>
